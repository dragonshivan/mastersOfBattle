<!DOCTYPE html>
<html>
<head>

<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">

	<title>Masters of Battle</title>
	
	<link type="text/css" href="css/mastersOfBattle.css" rel="stylesheet">
	
	<script src="../../js/lib/jquery-1.11.1_.js"></script>
	<script src="../../js/src/gameLoop/GameLoopConstants.js"></script>
	<script src="../../js/src/gameLoop/GameLoop.js"></script>
	<script src="../../js/src/gameLoop/GameEntity.js"></script>
	<script src="../../js/src/gameLoop/UserInputListener.js"></script>
	<script src="../../js/src/gameLoop/utils/AtlasAnimation.js"></script>
	<script src="../../js/src/gameLoop/utils/ImageCrop.js"></script>
	
	<script src="../../js/src/minimax/MinimaxConstants.js"></script>
	<script src="../../js/src/minimax/Evaluator.js"></script>
	<script src="../../js/src/minimax/GameArbiter.js"></script>
	<script src="../../js/src/minimax/GameState.js"></script>
	<script src="../../js/src/minimax/GameTree.js"></script>
	<script src="../../js/src/minimax/GameTreeNodesHashtable.js"></script>
	
	<script src="../../js/src/mastersOfBattle/constants/MastersOfBattleConstantsNamespace.js"></script>	
	<script src="../../js/src/mastersOfBattle/constants/MastersOfBattleConstants.js"></script>
	<script src="../../js/src/mastersOfBattle/constants/MastersOfBattleRuntimeConstants.js"></script>
	<script src="../../js/src/mastersOfBattle/gameElements/BattleFieldGameEntity.js"></script>
	<script src="../../js/src/mastersOfBattle/gameElements/BattleFieldCellGameEntity.js"></script>
	<script src="../../js/src/mastersOfBattle/gameElements/UnitGameEntity.js"></script>
	<script src="../../js/src/mastersOfBattle/unit/UnitFactory.js"></script>
	<script src="../../js/src/mastersOfBattle/unit/action/UnitAction.js"></script>
	<script src="../../js/src/mastersOfBattle/unit/action/UnitActionEffect.js"></script>
	<script src="../../js/src/mastersOfBattle/unit/action/effect/UnitMeleeDamageEffect.js"></script>
	<script src="../../js/src/mastersOfBattle/unit/action/effect/UnitArrowDamageEffect.js"></script>
	<script src="../../js/src/mastersOfBattle/unit/UnitCharacteristics.js"></script>
	<script src="../../js/src/mastersOfBattle/unit/UnitStats.js"></script>	
	
	<script>
	$(document).ready(main);
	
	function main() {
		initMastersOfBattleRuntimeConstants();
		
		var battleFieldEntity = new MASTERS_OF_BATTLE.BattleFieldGameEntity();
		
		var gameEntities = [];
		var gameEntitiesIdx = 0;
		gameEntities[gameEntitiesIdx++] = battleFieldEntity;
		
		for(var cellX = 0; cellX < MASTERS_OF_BATTLE.Constants.BATTLE_FIELD_CELLS_COLUMNS; cellX++) {
			for(var cellY = 0; cellY < MASTERS_OF_BATTLE.Constants.BATTLE_FIELD_CELLS_ROWS; cellY++) {
				gameEntities[gameEntitiesIdx++] = new MASTERS_OF_BATTLE.BattleFieldCellGameEntity(cellX, cellY);
			}
		}
		
		gameEntities[gameEntitiesIdx++] = MASTERS_OF_BATTLE.Constants.Unit.FACTORY.createHumanSwordsman(MINIMAX.PLAYER_1, 1, 2, 22);
		gameEntities[gameEntitiesIdx++] = MASTERS_OF_BATTLE.Constants.Unit.FACTORY.createHumanSwordsman(MINIMAX.PLAYER_1, 1, 4, 22);
		gameEntities[gameEntitiesIdx++] = MASTERS_OF_BATTLE.Constants.Unit.FACTORY.createHumanSwordsman(MINIMAX.PLAYER_1, 1, 6, 22);
		
		gameEntities[gameEntitiesIdx++] = MASTERS_OF_BATTLE.Constants.Unit.FACTORY.createHumanSwordsman(MINIMAX.PLAYER_1, 0, 1, 22);
		gameEntities[gameEntitiesIdx++] = MASTERS_OF_BATTLE.Constants.Unit.FACTORY.createHumanSwordsman(MINIMAX.PLAYER_1, 0, 3, 22);
		gameEntities[gameEntitiesIdx++] = MASTERS_OF_BATTLE.Constants.Unit.FACTORY.createHumanSwordsman(MINIMAX.PLAYER_1, 0, 5, 22);
		gameEntities[gameEntitiesIdx++] = MASTERS_OF_BATTLE.Constants.Unit.FACTORY.createHumanSwordsman(MINIMAX.PLAYER_1, 0, 7, 22);
		
		gameEntities[gameEntitiesIdx++] = MASTERS_OF_BATTLE.Constants.Unit.FACTORY.createHumanSwordsman(MINIMAX.PLAYER_2, 10, 2, 22);
		gameEntities[gameEntitiesIdx++] = MASTERS_OF_BATTLE.Constants.Unit.FACTORY.createHumanArcher(MINIMAX.PLAYER_2, 10, 4, 22);
		gameEntities[gameEntitiesIdx++] = MASTERS_OF_BATTLE.Constants.Unit.FACTORY.createHumanArcher(MINIMAX.PLAYER_2, 10, 6, 22);
		
		gameEntities[gameEntitiesIdx++] = MASTERS_OF_BATTLE.Constants.Unit.FACTORY.createHumanSwordsman(MINIMAX.PLAYER_2, 11, 1, 22);
		gameEntities[gameEntitiesIdx++] = MASTERS_OF_BATTLE.Constants.Unit.FACTORY.createHumanSwordsman(MINIMAX.PLAYER_2, 11, 3, 22);
		gameEntities[gameEntitiesIdx++] = MASTERS_OF_BATTLE.Constants.Unit.FACTORY.createHumanSwordsman(MINIMAX.PLAYER_2, 11, 5, 22);
		gameEntities[gameEntitiesIdx++] = MASTERS_OF_BATTLE.Constants.Unit.FACTORY.createHumanSwordsman(MINIMAX.PLAYER_2, 11, 7, 22);
		
		var inputEventQueue = new GAME_LOOP.Queue(10);
		new GAME_LOOP.CanvasMouseListener(inputEventQueue);
		var gameLoop = new GAME_LOOP.GameLoop(gameEntities, inputEventQueue, 
				MASTERS_OF_BATTLE.Constants.BATTLE_FIELD_CELLS_COLUMNS * MASTERS_OF_BATTLE.Constants.BATTLE_FIELD_CELL_SIZE, 
				MASTERS_OF_BATTLE.Constants.BATTLE_FIELD_CELLS_ROWS * MASTERS_OF_BATTLE.Constants.BATTLE_FIELD_CELL_SIZE,
				true);
		gameLoop.start();
	};
	
	</script>
</head>
<body>
	<center>
		<canvas id="canvas"></canvas>
	</center>
</body>
</html>
